<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main model</title>
    <link rel="stylesheet" href="login.css">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="favicon.png" type="image/png">
</head>
<body>
    <div class="login-page">
  <div class="form">
    <form class="login-form" id="loginForm" action="login.php" method="post">
      <input type="text" placeholder="username" id="username" name="username" required/>
      <input type="password" placeholder="password" id="password" name="password" required/>
      <button type="submit">login</button>
    </form>
  </div>
</div>
    <script>
            if ("serviceWorker" in navigator && "PushManager" in window) {
      navigator.serviceWorker.register("/sw.js").then(reg => {
        console.log("Service Worker registrov치n", reg);
    
        // po쮂멳치me o povolen칤
        Notification.requestPermission().then(permission => {
          if (permission === "granted") {
            console.log("Notifikace povoleny");
          }
        });
      });
    }

        
        self.addEventListener("push", event => {
      const data = event.data ? event.data.text() : "M치me novou zpr치vu!";
      event.waitUntil(
        self.registration.showNotification("游닉 Upozorn캩n칤", {
          body: data,
          icon: "/icon.png"
        })
      );
    });

        const webpush = require("web-push");
        
        // kl칤캜e vygeneruje코 pomoc칤 webpush.generateVAPIDKeys()
        const vapidKeys = {
          publicKey: "TV콡J_PUBLIC_KEY",
          privateKey: "TV콡J_PRIVATE_KEY"
        };
        
        webpush.setVapidDetails(
          "mailto:example@domena.cz",
          vapidKeys.publicKey,
          vapidKeys.privateKey
        );
        
        // subscription = objekt, co z칤sk치코 z klienta
        webpush.sendNotification(subscription, "Ahoj, m치코 novou zpr치vu!");
        
                
    </script>
</body>
</html>





