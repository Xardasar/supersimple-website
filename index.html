<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main model</title>
    <link rel="stylesheet" href="login.css">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="favicon.png" type="image/png">
</head>
<body>
    
    <script>
            if ("serviceWorker" in navigator && "PushManager" in window) {
      navigator.serviceWorker.register("/sw.js").then(reg => {
        console.log("Service Worker registrován", reg);
    
        // požádáme o povolení
        Notification.requestPermission().then(permission => {
          if (permission === "granted") {
            console.log("Notifikace povoleny");
          }
        });
      });
    }

        

        const webpush = require("web-push");
        
        // klíče vygeneruješ pomocí webpush.generateVAPIDKeys()
        const vapidKeys = {
          publicKey: "TVŮJ_PUBLIC_KEY",
          privateKey: "TVŮJ_PRIVATE_KEY"
        };
        
        webpush.setVapidDetails(
          "mailto:example@domena.cz",
          vapidKeys.publicKey,
          vapidKeys.privateKey
        );
        
        // subscription = objekt, co získáš z klienta
        webpush.sendNotification(subscription, "Ahoj, máš novou zprávu!");
        
                
    </script>
</body>
</html>







